ACTOR NightmarePinky : BullDemon 
{
	Health 400
	Renderstyle "Subtract"
	Alpha 0.9
	+stealth
	stealthalpha  0.3
	States
	{
	
	
    Spawn:
		SARG Y 1 
		TNT1 A 0 A_JumpIf(GetCvar("bd_WanderingOnSpawn")==1, "Idle")
	Spawned:	
		TNT1 A 0 A_JumpIfInventory("EatMe", 1, "Eat")
		SARG YZYZYZYZYZ 10 A_Look
		Loop
		
	Forget:	
	TNT1 A 0 A_ClearTarget
	TNT1 A 0 A_TakeInventory("EnemyMemory", 15)
	SearchPlayer:
	Idle:
	    
		SARG YZ 10 A_Look
		TNT1 A 0 A_SetAngle(angle - 40)
		SARG YZ 10 A_Look
		TNT1 A 0 A_SetAngle(angle + 40)
		SARG YZ 10 A_Look
		
		
		SARG A 0 A_Wander
		SARG A 2 A_Look
		SARG A 0 A_Wander
		SARG A 2 A_Look
		SARG B 0 A_Wander
		SARG B 2 A_Look
		SARG B 0 A_Wander
		SARG B 2 A_Look
		SARG C 0 A_Wander
		SARG C 2 A_Look
		SARG C 0 A_Wander
		SARG C 2 A_Look
		SARG D 0 A_Wander
		SARG D 2 A_Look
		SARG D 0 A_Wander
		SARG D 2 A_Look
		
		TNT1 A 0 A_Jump(128, "SearchPlayer")
		
		SARG A 0 A_Wander
		SARG A 2 A_Look
		SARG A 0 A_Wander
		SARG A 2 A_Look
		SARG B 0 A_Wander
		SARG B 2 A_Look
		SARG B 0 A_Wander
		SARG B 2 A_Look
		SARG C 0 A_Wander
		SARG C 2 A_Look
		SARG C 0 A_Wander
		SARG C 2 A_Look
		SARG D 0 A_Wander
		SARG D 2 A_Look
		SARG D 0 A_Wander
		SARG D 2 A_Look
		
		Goto SearchPlayer
		
	See:
	TNT1 A 0 A_CheckSight("SeeNeverSeen")
	
	SeeContinue:
		TNT1 A 0
		TNT1 A 0 A_JumpIfInventory("ZombieManFatality", 1, "FatalityZombieman")
		TNT1 A 0 A_JumpIfInventory("SergeantFatality", 1, "FatalitySergeant")
		TNT1 A 0 A_JumpIfInventory("ImpFatality", 1, "FatalityImp")
		TNT1 A 0 A_JumpIfInventory("ComandoFatality", 1, "FatalityComando")
		TNT1 A 0 A_JumpIfInventory("ComeEatMeDemon", 1, "EnragedSee")
		TNT1 A 0 A_CheckSight("SeeNoSee")
        TNT1 A 0 A_JumpIfInventory("EatMe", 1, "Eat")
        //TNT1 A 0 A_SpawnItemEx("FootSep6", 0, 0, 30, 0, 0)
		TNT1 A 0 A_TakeInventory("EnemyMemory", 17)
		SARG AA 2 A_Chase
		SARG BB 2 A_Chase
		//TNT1 A 0 A_SpawnItemEx("FootSep6", 0, 0, 30, 0, 0)
		SARG CC 2 A_Chase
		SARG DD 2 A_Chase
		TNT1 A 0 A_JumpIfInTargetInventory("IsInvisible", 1, "Idle")
		Loop
		
	SeeNoSee:
        //TNT1 A 0 A_SpawnItemEx("FootSep6", 0, 0, 30, 0, 0)
		SARG AA 2 A_Chase
		SARG BB 2 A_Chase
		SARG CC 2 A_Chase
		SARG DD 2 A_Chase
		TNT1 A 0 A_GiveInventory("EnemyMemory", 1)
		TNT1 A 0 A_JumpIfInventory("EnemyMemory", 15, "Forget")
		Goto See
		
	SeeNeverSeen:
        //TNT1 A 0 A_SpawnItemEx("FootSep6", 0, 0, 30, 0, 0)
		SARG AA 2 A_Chase("Melee", "")
		SARG BB 2 A_Chase
		SARG CC 2 A_Chase
		SARG DD 2 A_Chase
		Loop

	//Missile:
		//SARG A 0 A_FaceTarget
		//TNT1 A 0 A_JumpIfCloser(160, "JumpAttacK")
		//TNT1 A 0 A_JumpIfCloser(1000, "See")
		//TNT1 A 0 A_GiveInventory("ComeEatMeDemon", 1)
		//Goto EnragedSee
		
		
	Pain.Taunt:	
	
		SARG FGF 2 A_FaceTarget
		TNT1 A 0 A_GiveInventory("ComeEatMeDemon", 1)
		TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE", 1)
		Goto EnragedSee	
		
	EnragedSee:
		TNT1 A 0 A_JumpIfInventory("EatMe", 1, "Eat")
        TNT1 A 0 A_TakeInventory("EnemyMemory", 17)
		SARG A 1 A_Chase("Melee", "")
		SARG A 2 A_Chase("Melee", "")
		SARG B 1 A_Chase("Melee", "")
		SARG B 2 A_Chase("Melee", "")
		SARG C 1 A_Chase("Melee", "")
		SARG C 2 A_Chase("Melee", "")
		SARG D 1 A_Chase("Melee", "")
		SARG D 2 A_Chase("Melee", "")
		TNT1 A 0 A_FaceTarget
		TNT1 A 0 A_JumpIfInTargetInventory("IsInvisible", 1, "Idle")
		Loop
	
	Melee:
		TNT1 A 0
		TNT1 A 0 A_JumpIfCloser(70, "Bite")
		TNT1 A 0
		TNT1 A 0 A_PlaySound("demon/melee", 4)
		TNT1 A 0 A_TakeInventory("EnemyMemory", 100)
		//TNT1 A 0 A_JumpIfInTargetInventory("ComeEatMeDemon", 1, "See")
		
		SAPC A 5 A_FaceTarget
		SARG E 3 A_FaceTarget
		TNT1 A 0 ThrustThingZ(0,25,0,1)
		TNT1 A 0 A_Recoil(-10)
		SAPC B 5 
		SARG GGG 4 A_CustomMissile("DemonAttack",40,0,0,2)
		TNT1 A 0 A_CustomMissile("DemonAttack",5,0,0,2)
		
		TNT1 A 0 A_JumpIfInventory("ZombieManFatality", 1, "FatalityZombieman")
		TNT1 A 0 A_JumpIfInventory("SergeantFatality", 1, "FatalitySergeant")
		TNT1 A 0 A_JumpIfInventory("ImpFatality", 1, "FatalityImp")
		TNT1 A 0 A_JumpIfInventory("ComandoFatality", 1, "FatalityComando")	
		TNT1 A 0 A_JumpIfInventory("EatMe", 1, "Eat")
		SARG G 6
		TNT1 A 0 A_JumpIfCloser(70, "Bite")
		Goto SeeContinue
		
	Bite:	
		SARG G 0 A_FaceTarget
		TNT1 A 0 A_PlaySound("demon/melee", 4)
		TNT1 A 0 A_Recoil(-15)
		TNT1 A 0 A_TakeInventory("EnemyMemory", 100)
		TNT1 A 0 A_JumpIfInTargetInventory("ComeEatMeDemon", 1, "MeleeDown")
		SARG E 6 A_FaceTarget
		SARG F 6 A_FaceTarget
		TNT1 A 0 A_CustomMissile("DemonAttack",40,0,0,2)
		SARG G 12 A_CustomMissile("DemonAttack",5,0,0,2)

		TNT1 A 0 A_JumpIfInventory("ZombieManFatality", 1, "FatalityZombieman")
		TNT1 A 0 A_JumpIfInventory("SergeantFatality", 1, "FatalitySergeant")
		TNT1 A 0 A_JumpIfInventory("ImpFatality", 1, "FatalityImp")
		TNT1 A 0 A_JumpIfInventory("ComandoFatality", 1, "FatalityComando")	
		TNT1 A 0 A_JumpIfInventory("EatMe", 1, "Eat")
		Goto SeeContinue
		
		
		MeleeDown:
		PDEV A 6 A_FaceTarget
		PDEV B 6 A_FaceTarget
		PDEV C 12 A_CustomMissile("DemonAttack",5,0,0,0)
	     TNT1 A 0 A_JumpIfInventory("ZombieManFatality", 1, "FatalityZombieman")
	     TNT1 A 0 A_JumpIfInventory("SergeantFatality", 1, "FatalitySergeant")
	     TNT1 A 0 A_JumpIfInventory("ImpFatality", 1, "FatalityImp")
	     TNT1 A 0 A_JumpIfInventory("ComandoFatality", 1, "FatalityComando")	
         TNT1 A 0 A_Jump(32, "EatFast")
		Goto SeeContinue	

	Pain:
		SARG H 0 A_Pain
		TNT1 A 0 A_JumpIfInventory("ZombieManFatality", 1, "EndFatalityZombieman")
		TNT1 A 0 A_JumpIfInventory("SergeantFatality", 1, "EndFatalitySergeant")
		TNT1 A 0 A_JumpIfInventory("ImpFatality", 1, "EndFatalityImp")
		TNT1 A 0 A_JumpIfInventory("ComandoFatality", 1, "EndFatalityComando")	
		SARG H 4
		Goto SeeContinue
	
	Pain.Melee:
		SARG H 0 A_Pain
		TNT1 A 0 A_JumpIfInventory("ZombieManFatality", 1, "EndFatalityZombieman")
		TNT1 A 0 A_JumpIfInventory("SergeantFatality", 1, "EndFatalitySergeant")
		TNT1 A 0 A_JumpIfInventory("ImpFatality", 1, "EndFatalityImp")
		TNT1 A 0 A_JumpIfInventory("ComandoFatality", 1, "EndFatalityComando")	
		SARG H 6 
		Goto SeeContinue
	
	
		
	Pain.Shotgun:
        TNT1 A 0 A_Pain
        TNT1 A 0
        TNT1 A 0 A_FaceTarget
        TNT1 A 0 A_Recoil (2)
        SARG H 0
		TNT1 A 0 A_JumpIfInventory("ZombieManFatality", 1, "EndFatalityZombieman")
		TNT1 A 0 A_JumpIfInventory("SergeantFatality", 1, "EndFatalitySergeant")
		TNT1 A 0 A_JumpIfInventory("ImpFatality", 1, "EndFatalityImp")
		TNT1 A 0 A_JumpIfInventory("ComandoFatality", 1, "EndFatalityComando")	
		SARG H 4
        Goto SeeContinue	

    Pain.Kick:
	Pain.HeavyImpact:
	Pain.SuperPunch:
	 Pain.ExtremePunches:
         SARG A 0 A_Pain
         SARG A 0 A_FaceTarget
        TNT1 A 0 A_FaceTarget
        TNT1 A 0 A_Recoil (15)
		 TNT1 A 0 A_JumpIfInventory("ZombieManFatality", 1, "EndFatalityZombieman")
		TNT1 A 0 A_JumpIfInventory("SergeantFatality", 1, "EndFatalitySergeant")
		TNT1 A 0 A_JumpIfInventory("ImpFatality", 1, "EndFatalityImp")
		TNT1 A 0 A_JumpIfInventory("ComandoFatality", 1, "EndFatalityComando")	
		 SARG H 8
         Goto SeeContinue
		 Raise:
		SARG N 5
		SARG MLKJI 5
		Goto See
    
    Pain.KillMe:
        TNT1 A 0
		TNT1 A 0 HealThing(1)
        Goto See
    Death.KillMe:
    Death.Taunt:
	    TNT1 A 0 A_ChangeFlag("SOLID", 0)
        TNT1 A 0 A_SpawnItem("Demon")
        Stop


     FatalityZombieman:
        SARK DEDEDEDEDE 10 A_CustomMissile ("MuchBlood2", 45, 0, random (0, 360), 2, random (0, 160))
	   
	EndFatalityZombieman:	
		TNT1 A 0 A_CustomMissile ("XDeathHalfZombieManDown", 20, 0, random(0, 360), 2, random (0, 160))
		TNT1 A 0 A_TakeInventory("ZombiemanFatality",1)
        Goto See
		
	  FatalitySergeant:
        SARK FGFGFGFGFG 10 A_CustomMissile ("MuchBlood2", 45, 0, random (0, 360), 2, random (0, 160))
	  
	  EndFatalitySergeant:
		TNT1 A 0 A_CustomMissile ("XDeathHalfZombieManDown", 20, 0, random(0, 360), 2, random (0, 160))
        TNT1 A 0 A_TakeInventory("SergeantFatality",1)
        Goto See
		
	 FatalityComando:
        SARK JKJKJKJKJK 10 A_CustomMissile ("MuchBlood2", 45, 0, random (0, 360), 2, random (0, 160))
	 EndFatalityComando:  
        TNT1 A 0 A_TakeInventory("ComandoFatality",1)
        Goto See
		
	 FatalityImp:
        SARK HIHIHIHIHI 10 A_CustomMissile ("MuchBlood2", 45, 0, random (0, 360), 2, random (0, 160))
	   
	  EndFatalityImp: 
        TNT1 A 0 A_TakeInventory("ImpFatality",1)
        Goto See


	Eat:
    TNT1 A 0 A_TakeInventory ("EatMe", 1)
		SARK A 20 A_Look
        TNT1 AAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 360), 2, random (0, 180))
        TNT1 AAAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 180), 2, random (0, 180))
  	    TNT1 AA 0 A_CustomMissile ("Brutal_FlyingBlood", 0, 0, random (0, 360), 2, random (0, 160))
		SARK B 10 A_Look

		SARK A 10 A_Look
        TNT1 AAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 360), 2, random (0, 180))
        TNT1 AAAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 180), 2, random (0, 180))
  	    TNT1 AA 0 A_CustomMissile ("Brutal_FlyingBlood", 0, 0, random (0, 360), 2, random (0, 160))
		SARK B 10 A_Look

		SARK A 10 A_Look
        TNT1 AAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 360), 2, random (0, 180))
        TNT1 AAAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 180), 2, random (0, 180))
  	    TNT1 AA 0 A_CustomMissile ("Brutal_FlyingBlood", 0, 0, random (0, 360), 2, random (0, 160))
		SARK B 10 A_Look

		SARK A 10 A_Look
        TNT1 AAA 0 A_CustomMissile ("XDeath1", 15, 0, random (0, 360), 2, random (0, 180))
        TNT1 AAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 360), 2, random (0, 180))
        TNT1 AAAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 180), 2, random (0, 180))
  	    TNT1 AA 0 A_CustomMissile ("Brutal_FlyingBlood", 0, 0, random (0, 360), 2, random (0, 160))
		SARK B 10 A_Look

		SARK A 10 A_Look
        TNT1 AAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 360), 2, random (0, 180))
        TNT1 AAAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 180), 2, random (0, 180))
  	    TNT1 AA 0 A_CustomMissile ("Brutal_FlyingBlood", 0, 0, random (0, 360), 2, random (0, 160))
		SARK B 10 A_Look

		SARK A 10 A_Look
        TNT1 AAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 360), 2, random (0, 180))
        TNT1 AAAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 180), 2, random (0, 180))
  	    TNT1 AA 0 A_CustomMissile ("Brutal_FlyingBlood", 0, 0, random (0, 360), 2, random (0, 160))
		SARK B 10 A_Look

		SARK A 10 A_Look
        TNT1 AAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 360), 2, random (0, 180))
        TNT1 AAAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 180), 2, random (0, 180))
  	    TNT1 AA 0 A_CustomMissile ("Brutal_FlyingBlood", 0, 0, random (0, 360), 2, random (0, 160))
		SARK B 10 A_Look

		SARK A 10 A_Look
        TNT1 AAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 360), 2, random (0, 180))
        TNT1 AAAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 180), 2, random (0, 180))
  	    TNT1 AA 0 A_CustomMissile ("Brutal_FlyingBlood", 0, 0, random (0, 360), 2, random (0, 160))
		SARK B 10 A_Look

		SARK A 10 A_Look
        TNT1 AAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 360), 2, random (0, 180))
        TNT1 AAAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 180), 2, random (0, 180))
  	    TNT1 AA 0 A_CustomMissile ("Brutal_FlyingBlood", 0, 0, random (0, 360), 2, random (0, 160))
		SARK B 10 A_Look

		SARK A 10 A_Look
        TNT1 AAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 360), 2, random (0, 180))
        TNT1 AAAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 180), 2, random (0, 180))
  	    TNT1 AA 0 A_CustomMissile ("Brutal_FlyingBlood", 0, 0, random (0, 360), 2, random (0, 160))
		SARK B 10 A_Look

		SARK A 10 A_Look
        TNT1 AAA 0 A_CustomMissile ("XDeath1", 15, 0, random (0, 360), 2, random (0, 180))
        TNT1 AAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 360), 2, random (0, 180))
        TNT1 AAAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 180), 2, random (0, 180))
  	    TNT1 AA 0 A_CustomMissile ("Brutal_FlyingBlood", 0, 0, random (0, 360), 2, random (0, 160))
		SARK B 10 A_Look

		SARK A 10 A_Look
        TNT1 AAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 360), 2, random (0, 180))
        TNT1 AAAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 180), 2, random (0, 180))
  	    TNT1 AA 0 A_CustomMissile ("Brutal_FlyingBlood", 0, 0, random (0, 360), 2, random (0, 160))
		SARK B 10 A_Look
Goto Spawn
/*
    Death.Eat:
        TNT1 A 0 A_GiveToTarget("EatMe",1)
		 Goto Death+3
        Stop
		*/
	EatFast:
    TNT1 A 0 A_TakeInventory ("EatMe", 1)
		SARK A 20 A_Look
        TNT1 AAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 360), 2, random (0, 180))
        TNT1 AAAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 180), 2, random (0, 180))
  	    TNT1 AA 0 A_CustomMissile ("Brutal_FlyingBlood", 0, 0, random (0, 360), 2, random (0, 160))
		SARK B 10 A_Look

		SARK A 10 A_Look
        TNT1 AAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 360), 2, random (0, 180))
        TNT1 AAAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 180), 2, random (0, 180))
  	    TNT1 AA 0 A_CustomMissile ("Brutal_FlyingBlood", 0, 0, random (0, 360), 2, random (0, 160))
		SARK B 10 A_Look

		SARK A 10 A_Look
        TNT1 AAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 360), 2, random (0, 180))
        TNT1 AAAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 180), 2, random (0, 180))
  	    TNT1 AA 0 A_CustomMissile ("Brutal_FlyingBlood", 0, 0, random (0, 360), 2, random (0, 160))
		SARK B 10 A_Look

		SARK A 10 A_Look
        TNT1 AAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 360), 2, random (0, 180))
        TNT1 AAAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 180), 2, random (0, 180))
  	    TNT1 AA 0 A_CustomMissile ("Brutal_FlyingBlood", 0, 0, random (0, 360), 2, random (0, 160))
		SARK B 10 A_Look

		SARK A 10 A_Look
        TNT1 AAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 360), 2, random (0, 180))
        TNT1 AAAAAAAAAAAAAAAA 0 A_CustomMissile ("Brutal_FlyingBloodTrail", 35, 0, random (0, 180), 2, random (0, 180))
  	    TNT1 AA 0 A_CustomMissile ("Brutal_FlyingBlood", 0, 0, random (0, 360), 2, random (0, 160))
		SARK B 10 A_Look

		Goto MeleeDown
		
		
	Death.Ice:
	Death.Freeze:
	Death.Frost:
	TNT1 A 0 A_ChangeFlag("SHOOTABLE", 0)
	TNT1 A 0 A_ChangeFlag("SOLID", 0)
	TNT1 A 0 A_SpawnItem("FrozenNightmareDemon")
	Stop	
	
	Death.Massacre:
	Goto Death
		 }
}

ACTOR NightmarePinkyDamaged : NightmarePinky
{
	Health 150

}